using Clinic.Email.Contract;
using Microsoft.AspNetCore.Identity.UI.Services;

namespace Clinic.Email.Service;

public class EmailService : IEmailService
{
    private readonly IEmailSender _emailSender;

    public EmailService(IEmailSender emailSender)
    {
        _emailSender = emailSender;
    }
    public async Task SendInvoice(string email)
    {
        await _emailSender.SendEmailAsync(email, $"Invoice Booking",
            body);
    }

    private string body =
        "<div>\n    <span class=\"im\" align=\"center\" style=\"padding-10px\">\n        <h3>\n            Thank you for using our online medical registration service, here is your medical examination form <br/>\n            Please bring this medical examination card with you when you come for examination at the hospital. Thank you very much!\n        </h3>\n    </span><table style=\"border-collapse:collapse;table-layout:fixed;border-spacing:0;vertical-align:top;min-width:320px;Margin:0 auto;background-color:#ffffff;width:100%\" cellpadding=\"0\" cellspacing=\"0\">\n        <tbody>\n            <tr style=\"vertical-align:top\">\n                <td style=\"word-break:break-word;border-collapse:collapse!important;vertical-align:top\">\n\n                    <div style=\"background-color:transparent\">\n                        <div style=\"Margin:0 auto;min-width:320px;max-width:500px;word-wrap:break-word;word-break:break-word;background-color:transparent\" class=\"m_3727995092631990582block-grid\">\n                            <div style=\"border-collapse:collapse;display:table;width:100%;background-color:transparent\">\n\n\n                                <div class=\"m_3727995092631990582col\" style=\"min-width:320px;max-width:550px;display:table-cell;vertical-align:top\">\n                                    <div style=\"background-color:transparent;width:100%!important\">\n\n                                        <div style=\"border-top:0px solid transparent;border-left:0px solid transparent;border-bottom:0px solid transparent;border-right:0px solid transparent;padding-top:5px;padding-bottom:5px;padding-right:0px;padding-left:0px\">\n\n                                            <div align=\"center\" class=\"m_3727995092631990582fullwidthOnMobile\" style=\"padding-right:0px;padding-left:0px\">\n                                            </div>\n\n                                        </div>\n\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                    <div style=\"background-color:transparent\">\n                        <div style=\"Margin:0 auto;min-width:320px;max-width:500px;word-wrap:break-word;word-break:break-word;background-color:transparent\" class=\"m_3727995092631990582block-grid\">\n                            <div style=\"border-collapse:collapse;display:table;width:100%;background-color:transparent\">\n\n\n                                <div class=\"m_3727995092631990582col\" style=\"min-width:320px;max-width:500px;display:table-cell;vertical-align:top\">\n                                    <div style=\"background-color:transparent;width:100%!important\">\n\n                                        <div style=\"border-top:0px solid transparent;border-left:0px solid transparent;border-bottom:0px solid transparent;border-right:0px solid transparent;padding-top:5px;padding-bottom:5px;padding-right:0px;padding-left:0px\">\n\n                                            <div style=\"font-size:16px;font-family:Arial,'Helvetica Neue',Helvetica,sans-serif;text-align:center\">\n                                                <div>\n\n                                                    <table align=\"center\" style=\"margin:0 auto;width:450px;height:746px;border:5px solid #e0e6e8;padding:5px\">\n                                                        <tbody>\n                                                            <tr>\n                                                                <td style=\"text-align:center\"><b>4Health Clinic</b></td>\n                                                            </tr>\n                                                            \n                                                            <tr>\n                                                                <td style=\"text-align:center\">\n                                                                    <b>Appointment Code</b>\n                                                                    <br>\n                                                                    <img align=\"center\" border=\"0\" src=\"https://ci3.googleusercontent.com/meips/ADKq_Nap5tWjtOHtpuAaKnQG29WCdTFFfALkLGzve3vSpKpTXqxdheFEeIHpQb6EgKN78MiB8PfAoHKujURSyoxJ_oVgdNpV9f5kY8QxVv7-H1q8CBiHuCSF7wKYc9_ai--qAmi7Pz6qkiYCuyr9hwXFwCyhFjnV61JQNf7qXQI3k_CzLxw=s0-d-e1-ft#https://cdn.medpro.vn/prod-benhvien199/7cfa1279-c22a-43f2-b678-ef3ca29d9046-37252bf7bc4e45018c3aab70bd24d43e\" alt=\"barcode\" title=\"barcode\" class=\"CToWUd\" data-bit=\"iit\">\n                                                                    <br>\n                                                                    T240304NZC557\n                                                                </td>\n                                                            </tr>\n\n                                                            <tr>\n                                                                <td style=\"text-align:center\">\n                                                                </td>\n                                                            </tr>\n\n                                                            <tr style=\"display:flex\">\n\n                                                                <td style=\"text-align:center;height:110px;width:100%\">\n                                                                    <p style=\"color:#48a7f2;font-size:48px;margin:0;font-weight:bold\">\n                                                                        <b>14:30</b>\n                                                                    </p>\n                                                                    <p style=\"padding:0;margin:8px 0 0\">\n                                                                        (Estimated examination time)\n                                                                    </p>\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"display:inline-block;margin-top:5px;padding:5px 20px;border-radius:20px;background-color:#f26f21;color:#ffffff\">Booking Successful</td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:center;padding:0px;margin:0px\"><p style=\"margin:0px;color:#ff4500\">Money must be paid: 100.000 VNƒê</p></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:center;padding:0px;margin:0px\"><p style=\"margin:0px;margin-bottom:10px;color:#ff4500\">(Examination fee + utility fee included)</p></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left;padding:10px\">Appointment Code: <b>T240304NZC557</b></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left;padding:10px\">Date: <b>06/04/2024</b></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left;padding:10px\">Service: <b>Dental Examination</b></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left;padding:10px\">Doctor: <b>Phung Dang Khoa</b></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left;padding:10px\">Name: <b>NGUYEN THI BICH THAO</b></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left;padding:10px\">Gender: <b>Female</b></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left;padding:10px\">Date of birth: <b>13/12/2002</b></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left;padding:10px\">Healh Insurance Code: <b>4420948822</b></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left;padding:10px\">Price: <b>100.000 VND</b></td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td>\n                                                                    <hr style=\"color:#e0e6e8;margin-bottom:1px;margin-top:1px\">\n                                                                </td>\n                                                            </tr>\n                                                            <tr>\n                                                                <td style=\"text-align:left\">\n                                                                    <i>\n                                                                        <div>\n                                                                            <ul start=\"1\">\n                                                                                <li>\n                                                                                    <p>Please arrive 15 minutes before the appointment time to receive confirmation of information and instructions for entering the examination.</p>\n                                                                                </li>\n                                                                            </ul>\n                                                                            <div style=\"padding: 10px\">Note:</div>\n                                                                            <ul start=\"1\">\n                                                                                <li>\n                                                                                    <p>Patients are guaranteed to arrive for examination at the scheduled appointment time.</p>\n                                                                                </li>\n                                                                                <li>\n                                                                                    <p>Outside of the above time frame, the examination form is still valid on the day of the examination <strong>7:00</strong> to <strong>17:00</strong>, reception will be arranged according to hospital regulations.</p>\n                                                                                </li>\n                                                                                <li>\n                                                                                    <p>If any problems arise that require support, please contact Hotline <strong>098 xxx xxxx</strong> for quick handling.</p>\n                                                                                </li>\n                                                                            </ul>\n                                                                        </div>\n                                                                    </i>\n                                                                </td>\n                                                            </tr>\n                                                        </tbody>\n                                                    </table>\n\n                                                </div>\n                                            </div>\n\n                                        </div>\n\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <img src=\"https://ci3.googleusercontent.com/meips/ADKq_NaKGd5hN3Yx7TVrMNxYl8z6Y3FXdumN2eBkn0bnDYz3wxsaoD3i3Bz7u8y4_5W9LdoHnKIqn2qDu-GsPoLXxU4WTqpKo8NPuisKbz-TVeMQSj_q1v-h_HWK1VXXoMZuxMY4LMtbe7GJvMHLUNdn781-Vb4HrcDtCAFpt2W2moTkJUGl9FWCbGE1sbxVX6UrnEzbT1lOGQRrVsgXuafO_HOwzvlGe13EUe8xsoG5hbEGS19OYq6w_pMCDLGSxwbXSLZkGlg1D2SKjbAeXnSA1o7C9REodoej_pv3zwglS6A3tSw3dhWIGdWmH3B0b37e8gCbXpC4V8YOfTeb97Dol22lM8eosKPNt7yUwblV5wlExsn-Joncuv9scy72QJ6dYj7l2lKTyhFpMmLjA0gzCMGuZYSO4sHv2ezwLg=s0-d-e1-ft#https://u7537279.ct.sendgrid.net/wf/open?upn=u001.7kMSbMYBhoMhZJKufo3REQspxxGeO06LPaSkFydzpZoxmfgZW3V7Zvz-2FTHqtclcX69vDdCVBbI21PI5GaQU6byBXJeLQxtxY7c5M8n6mtrF6tWJTyKEb1EOyaesoOlt0EvgEqUtbjinSR0cghl4d3MDugASWxToIhusTMf27rNcgnyqD4iyPTz8wFg7Myik1FEZ79FfsQ61-2BBwv2B0WNhjDShafQr3oEsfIBQzgjvNk-3D\" alt=\"\" width=\"1\" height=\"1\" border=\"0\" style=\"height:1px!important;width:1px!important;border-width:0!important;margin-top:0!important;margin-bottom:0!important;margin-right:0!important;margin-left:0!important;padding-top:0!important;padding-bottom:0!important;padding-right:0!important;padding-left:0!important\" class=\"CToWUd\" data-bit=\"iit\">\n</div>";
}